"use strict";(self.webpackChunksimulo_docs=self.webpackChunksimulo_docs||[]).push([[957],{6149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});var i=n(4848),o=n(8453);const c={title:"Electricity",description:"How to make your own scripted electric components"},r="Electricity",s={id:"api/electricity",title:"Electricity",description:"How to make your own scripted electric components",source:"@site/docs/api/electricity.mdx",sourceDirName:"api",slug:"/api/electricity",permalink:"/api/electricity",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Electricity",description:"How to make your own scripted electric components"},sidebar:"apiSidebar",previous:{title:"core",permalink:"/api/core"},next:{title:"Joints",permalink:"/api/joints/"}},a={},l=[{value:"How To Make a Custom Scripted Electric Thing",id:"how-to-make-a-custom-scripted-electric-thing",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"electricity",children:"Electricity"}),"\n",(0,i.jsxs)(t.p,{children:["Simulo comes with a pre-installed package named ",(0,i.jsx)(t.code,{children:"core"}),". In that package, we have electric things like Batteries, Lightbulbs, Wheels, Key Inputs, etc."]}),"\n",(0,i.jsxs)(t.p,{children:["When a closed circuit is created with a battery (or with the ",(0,i.jsx)(t.code,{children:"Free Energy"})," component), all conducting objects in the circuit will be sent an ",(0,i.jsx)(t.code,{children:"activate"})," event. This event comes with a ",(0,i.jsx)(t.code,{children:".power"})," field on its data table."]}),"\n",(0,i.jsxs)(t.p,{children:["But, ",(0,i.jsx)(t.code,{children:"core"}),"'s electricity things are just one way to trigger the ",(0,i.jsx)(t.code,{children:"activate"})," event. Electricity is not limited to ",(0,i.jsx)(t.code,{children:"core"}),"; a ",(0,i.jsx)(t.code,{children:"core"}),"-less Simulo can still activate things however it wants."]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-make-a-custom-scripted-electric-thing",children:"How To Make a Custom Scripted Electric Thing"}),"\n",(0,i.jsxs)(t.p,{children:["First make a new component. See the ",(0,i.jsx)(t.a,{href:"/api/Component",children:"Component page"})," to find out how."]}),"\n",(0,i.jsx)(t.p,{children:"But, for its code, instead put this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-lua",metastring:'title="Component code"',children:'local current_power = 0;\n\nfunction on_event(id, data)\n    if id == "activate" then\n        current_power += data.power;\n    end;\nend;\n\nfunction on_step()\n    -- (do something with current_power here)\n\n    current_power = 0;\nend;\n'})}),"\n",(0,i.jsx)(t.p,{children:"Now, if we add this component to something, nothing will happen yet, but its listening to how much power it has. We can do this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-lua",children:"-- (keep the rest of the code)\n\nfunction on_step()\n    self:set_color(Color:mix(0x000000, 0xffffff, current_power));\n\n    current_power = 0;\nend;\n"})}),"\n",(0,i.jsx)(t.p,{children:"And now, if we load the new component (restart Simulo) and add it on something, and touch it on an exposed powered wire, we will see it go from pitch black to white! Wow!"}),"\n",(0,i.jsx)(t.p,{children:"This is just a small example, but you can hear the possibilities. Now go forth and make Everything and anything."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var i=n(6540);const o={},c=i.createContext(o);function r(e){const t=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(c.Provider,{value:t},e.children)}}}]);