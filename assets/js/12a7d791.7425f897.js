"use strict";(self.webpackChunksimulo_docs=self.webpackChunksimulo_docs||[]).push([[3],{1587:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var o=t(4848),i=t(8453);const a={},l="temp_load APIs",s={id:"api/temp_load",title:"temp_load APIs",description:"Simulo's temp_load global APIs are some functions that will be removed in the public version (and replaced by proper ways to load things).",source:"@site/docs/api/temp_load.mdx",sourceDirName:"api",slug:"/api/temp_load",permalink:"/api/temp_load",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"SimuloObject",permalink:"/api/simuloobject/"}},r={},d=[{value:"temp_load_string(path)",id:"temp_load_stringpath",level:2},{value:"Example",id:"example",level:3},{value:"temp_load_image(path)",id:"temp_load_imagepath",level:2},{value:"Example",id:"example-1",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,i.R)(),...e.components},{Type:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Type",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"temp_load-apis",children:"temp_load APIs"}),"\n",(0,o.jsxs)(n.p,{children:["Simulo's ",(0,o.jsx)(n.code,{children:"temp_load"})," global APIs are some functions that will be removed in the public version (and replaced by proper ways to load things)."]}),"\n",(0,o.jsx)(n.p,{children:"However, at the moment they are the only way to load images and text files into Simulo. Here's how they work:"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"temp_load_stringpath",children:"temp_load_string(path)"}),"\n",(0,o.jsxs)(n.p,{children:["This function loads a text file of an absolute path and returns its content as a ",(0,o.jsx)(t,{name:"string"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Mainly used for ",(0,o.jsx)(n.a,{href:"../components",children:"Components"}),". See ",(0,o.jsx)(n.a,{href:"/samples/components/multifile/",children:"this sample"})," to see an example of that."]}),"\n",(0,o.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local text = temp_load_string("/home/joe/Documents/aaa.txt");\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"temp_load_imagepath",children:"temp_load_image(path)"}),"\n",(0,o.jsxs)(n.p,{children:["This function is very similar to ",(0,o.jsx)(n.a,{href:"#temp_load_stringpath",children:(0,o.jsx)(n.code,{children:"temp_load_string"})}),", but instead of returning a ",(0,o.jsx)(t,{name:"string"}),", it returns a ",(0,o.jsx)(t,{name:"SimuloImage"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{name:"SimuloImage"})," has 2 fields: ",(0,o.jsx)(n.code,{children:"width"})," and ",(0,o.jsx)(n.code,{children:"height"}),", both read-only ",(0,o.jsx)(t,{name:"number"})," fields. It also has one function: ",(0,o.jsx)(n.code,{children:":get_pixel(vec2)"}),", which returns a table that has ",(0,o.jsx)(n.code,{children:"r"}),", ",(0,o.jsx)(n.code,{children:"g"}),", ",(0,o.jsx)(n.code,{children:"b"})," and ",(0,o.jsx)(n.code,{children:"a"})," numbers from ",(0,o.jsx)(n.code,{children:"0"}),"-",(0,o.jsx)(n.code,{children:"255"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local image = temp_load_image("/home/joe/Pictures/simulon.png");\n\n-- Get image dimensions\nlocal width = image.width;\nlocal height = image.height;\n\n-- Define helper function to convert RGB to hex color\nfunction rgb_to_color(r, g, b)\n    return r * 0x10000 + g * 0x100 + b;\nend\n\n-- Iterate over each pixel\nfor y = 0, height - 1 do\n    for x = 0, width - 1 do\n        -- Get the pixel color\n        local pixel = image:get_pixel(vec2(x, y));\n\n        if pixel.a > 127 then\n            local color = rgb_to_color(pixel.r, pixel.g, pixel.b);\n        \n            -- Create the box with the specified properties\n            Scene:add_box({\n                position = vec2(x, -y) + offset,\n                size = vec2(0.5, 0.5),\n                color = color,\n                is_static = false\n            });\n        end;\n    end;\nend;\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var o=t(6540);const i={},a=o.createContext(i);function l(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);